<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll event</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>

<body>

</body>
<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <span class="navbar-brand">Navbar</span>
    <span class="badge bg-dark">Dark 🔄</span>
    <button class="navbar-toggler" type="button">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
</nav>

<div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll;">
  Lorem ipsum dolor sit amet consectetur, adipisicing elit. Aperiam doloremque possimus temporibus delectus veniam sed
  fugit excepturi animi optio et in accusantium mollitia consectetur ducimus praesentium veritatis ad, ab neque?
  Quisquam, ex debitis ea beatae sequi soluta. Fugiat itaque, error ea amet totam, quidem ducimus earum consectetur,
  autem provident nobis? Quasi cupiditate distinctio dolore ipsum doloremque porro illo saepe aliquam.
  Earum adipisci repellat unde magnam eius veniam cum magni fugiat perspiciatis. Ab voluptatem perspiciatis, ratione
  veritatis ullam quasi. Explicabo nobis pariatur dolorem cum amet debitis tenetur consequatur in voluptas alias.
  Quam, quia blanditiis in facilis eos aliquid corrupti minus natus sed eum veniam sequi unde adipisci illum architecto
  maiores labore tempora provident enim nemo animi ipsum assumenda aspernatur? Corporis, ipsam?
  Pariatur illo, in dignissimos, officia delectus, consequatur debitis accusantium quae eveniet repudiandae ipsam.
  Obcaecati rem laborum omnis nemo quidem consequatur dicta eius modi. Distinctio minus atque modi autem earum
  similique!
  Voluptatibus quidem atque illo laboriosam eum quisquam alias rem tempora nulla vero, dolores, accusamus fugiat
  repudiandae quae! Labore architecto enim similique, tenetur eos, in aliquid, at ipsam error minima nobis.
  Nobis repudiandae, explicabo ipsa, veritatis nisi quis praesentium quibusdam iusto cum velit tempore tenetur maxime
  itaque ut nemo quaerat alias! Similique illo rem possimus saepe ea natus ad earum officia!
  Saepe nemo tenetur iure hic, nisi voluptas quis omnis libero recusandae dolore fugiat voluptate inventore quasi minima
  eaque alias exercitationem soluta commodi. Recusandae, illum veniam modi rerum veritatis voluptatum ullam?
  Expedita repudiandae est earum quis nihil cumque recusandae molestiae. Doloremque ullam distinctio deserunt corporis
  ducimus temporibus maxime assumenda eveniet, eligendi culpa consequatur ea consectetur, fugiat, quos fuga nesciunt
  minus officia!
  Incidunt provident eius suscipit laboriosam, nesciunt atque molestiae sed nobis animi porro quo doloribus. Aperiam
  vero, ipsum laborum obcaecati hic deleniti impedit! Quaerat iure fuga pariatur tempora perferendis voluptatem sed.
</div>
<div class="black_line"></div>

<div style="height:1000px;"></div>

<script src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script>
  // scroll event
  window.addEventListener('scroll', function () {
    // console.log(window.scrollY)
    // window.scrollTo(0,100) // 위치에 강제 스크롤
    // window.scrollBy(0,100) // 현재 위치부터 강제 스크롤
  })

  // jquery
  $(window).scroll(function () {
    // console.log($(window).scrollTop()) // 스크롤바 위치출력
    // $(window).scrollTop(100) // 스크롤바 이동
  })


  // div의 스크롤바 내링 냥 + 100(보이는 height) == div 실제높이 ( 오차범위 여유두고 하기 )
  $('.lorem').scroll(function () {
    var scrollValue = document.querySelector('.lorem').scrollTop;  // div 스크롤바 내린 높이
    var scrollResult = document.querySelector('.lorem').scrollHeight;  // div 스크롤바 실제 높이
    var heightResult = document.querySelector('.lorem').clientHeight;  // div 보이는 높이

    console.log(scrollValue, scrollResult, heightResult)

    if (scrollValue + heightResult > scrollResult - 10) {
      alert('스크롤 다 했네?ㅋ')
      return;
    }
  })

  // 스크롤 움직이면 글씨 변하게
  $(window).scroll(function () {
    if (window.scrollY > 100) {
      $('.navbar-brand').css('font-size', '20px');
    } else {
      $('.navbar-brand').css('font-size', '30px');
    }
  })

  $(window).scroll(function () {
    var userHeight = document.querySelector('html').scrollTop
    var allHeight = document.querySelector('html').scrollHeight;
    var resultHeight = document.querySelector('html').clientHeight;
    var linePer =  (userHeight+resultHeight)/allHeight * 100;

    document.querySelector('.black_line').style.width = `${linePer}%`;
  })

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</html>